<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duplicate File Finder</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîç Duplicate File Finder</h1>
            <p>Find and manage duplicate files across your system with ease</p>
        </div>

        <div class="controls">
            <div class="form-group">
                <label for="searchPath">Search Directory</label>
                <div class="path-input-group">
                    <input type="text" id="searchPath" placeholder="Select or enter directory path">
                    <button class="btn btn-secondary" id="browseBtn" type="button">
                        üìÅ Browse
                    </button>
                </div>
            </div>

            <div class="form-group">
                <label for="minSize">Minimum File Size</label>
                <select id="minSize">
                    <option value="0">Any size</option>
                    <option value="1024">1 KB</option>
                    <option value="102400">100 KB</option>
                    <option value="1048576" selected>1 MB</option>
                    <option value="10485760">10 MB</option>
                    <option value="104857600">100 MB</option>
                </select>
            </div>

            <div class="form-group">
                <label>File Types</label>
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" id="typeImages" checked>
                        <label for="typeImages">Images (jpg, png, gif, bmp)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="typeVideos" checked>
                        <label for="typeVideos">Videos (mp4, avi, mkv, mov)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="typeAudio" checked>
                        <label for="typeAudio">Audio (mp3, wav, flac, aac)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="typeDocuments" checked>
                        <label for="typeDocuments">Documents (pdf, doc, txt, xlsx)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="typeAll">
                        <label for="typeAll">All file types</label>
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" id="scanBtn" type="button">
                    <span id="scanIcon">üîç</span>
                    <span id="scanText">Start Scan</span>
                </button>
                <button class="btn btn-secondary" id="clearBtn" type="button">
                    <span>üóëÔ∏è</span>
                    Clear Results
                </button>
                <button class="btn btn-secondary" id="exportTextBtn" type="button">
                    <span>üìù</span>
                    Export as Text
                </button>
            </div>
        </div>

        <div class="progress-container" id="progressContainer">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">Initializing scan...</div>
        </div>

        <div class="stats-grid" id="statsGrid">
            <div class="stat-card">
                <div class="stat-number" id="totalFiles">0</div>
                <div class="stat-label">Files Scanned</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="duplicateGroupsCount">0</div>
                <div class="stat-label">Duplicate Groups</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="duplicateFiles">0</div>
                <div class="stat-label">Duplicate Files</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="wastedSpace">0 MB</div>
                <div class="stat-label">Wasted Space</div>
            </div>
        </div>

        <div class="results" id="results">
            <div class="results-header">
                <div class="results-title">Duplicate Files Found</div>
                <div class="results-stats" id="resultsStats">0 groups, 0 duplicates</div>
            </div>
            <div id="duplicateGroupsContainer"></div>
        </div>
    </div>

    <!-- Hidden file input for directory selection -->
    <input type="file" id="fileInput" webkitdirectory directory multiple style="display: none;">

    <div class="modal" id="fileBrowserModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">üìÅ Select Folder</h3>
                <button class="close-btn" id="closeModal" type="button">&times;</button>
            </div>
            <div class="modal-body">
                <div class="breadcrumb" id="breadcrumb">
                    <span class="breadcrumb-item" data-path="/">üè† Home</span>
                </div>
                <div class="file-browser" id="fileBrowser">
                    <div class="file-browser-loading" id="browserLoading">
                        <div class="loading-spinner"></div>
                        Loading folders...
                    </div>
                    <ul class="file-browser-list" id="fileBrowserList" style="display: none;"></ul>
                </div>
            </div>
            <div class="modal-footer">
                <div class="selected-path" id="selectedPath">/</div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" id="cancelSelect" type="button">Cancel</button>
                    <button class="btn btn-primary" id="confirmSelect" type="button">Select Folder</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="fileDetailsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="fileDetailsTitle">üìÑ File Details</h3>
                <button class="close-btn" id="closeFileDetails" type="button">&times;</button>
            </div>
            <div class="modal-body">
                <div class="file-details-content" id="fileDetailsContent">
                   
                </div>
            </div>
            <div class="modal-footer">
                <div class="modal-actions">
                    <button class="btn btn-primary" id="openFileDirectly" type="button">üöÄ Open File</button>
                    <button class="btn btn-secondary" id="closeFileDetailsBtn" type="button">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
